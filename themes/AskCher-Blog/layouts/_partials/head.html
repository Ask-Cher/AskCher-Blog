<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} - {{ .Site.Title }}{{ end }}</title>
<meta name="description" content="{{ with .Description }}{{ . }}{{ else }}{{ .Site.Params.description }}{{ end }}">

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

{{- /* 1. Get both stylesheets as resources */ -}}
{{- $style := resources.Get "css/style.css" -}}
{{- $blogPostStyle := resources.Get "css/blog-post.css" -}}

{{- /* 2. Define the list of styles to process (for the blog post page, include both; otherwise, just style.css) */ -}}
{{- $stylesToProcess := slice $style -}}
{{- if .IsPage -}}
  {{- $stylesToProcess = slice $style $blogPostStyle -}}
{{- end -}}

{{- /* 3. Combine them into a single file resource */ -}}
{{- $styles := $stylesToProcess | resources.Concat "css/bundle.css" -}}

{{- /* 4. Optional: Minify and fingerprint for caching in production (best practice) */ -}}
{{- if hugo.IsProduction -}}
  {{ $styles = $styles | minify | fingerprint }}
{{- end -}}

{{- /* 5. Link the final bundled file */ -}}
<link rel="stylesheet" href="{{ $styles.RelPermalink }}">

<meta property="og:type" content="website">
<meta property="og:title" content="{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }}{{ end }}">
<meta property="og:description" content="{{ with .Description }}{{ . }}{{ else }}{{ .Site.Params.description }}{{ end }}">

{{ with .Params.thumbnail }}
    {{ with $.Page.Resources.GetMatch . }}
        <meta property="og:image" content="{{ .Permalink | replaceRE `^http://localhost:1313` `https://ask-cher-blog.vercel.app` }}" />
    {{ else }}
        <meta property="og:image" content="{{ . | replaceRE `^http://localhost:1313` `https://ask-cher-blog.vercel.app` }}" />
    {{ end }}
{{ else }}
    {{ with .Site.Params.images }}
        <meta property="og:image" content="{{ index . 0 | replaceRE `^http://localhost:1313` `https://ask-cher-blog.vercel.app` }}">
    {{ end }}
{{ end }}

<meta property="og:url" content="{{ .Permalink | replaceRE `^http://localhost:1313` `https://ask-cher-blog.vercel.app` }}" />
<meta property="og:type" content="article" />

<link rel="icon" type="image/x-icon" href="/favicon.ico">
